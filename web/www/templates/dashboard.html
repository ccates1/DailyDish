<div class="container page-content-wrapper">
  <div ng-show="loading">
    <div class="loader"></div>
  </div>
  <div ng-show="!loading">
    <!-- Profile Dash View ---------------->
    <!-- Desktop View -->
    <div class="row row-flex row-eq-height hidden-xs">
      <div class="col-sm-6 panel panel-primary dash-panel">
        <div class="panel-heading">
          <h4 class="panel-title">
            <span class="pull-left">
              <i class="form-fa fa fa-info-circle fa-fw"></i>
            </span>
            Profile
            <span class="pull-right">
              <a href="javascript:void(0)" ng-click="open()" id="edit">
                <i class="fa fa-pencil-square-o fa-lg"></i>
              </a>
            </span>
          </h4>
        </div>
        <div class="panel-body">
          <div class="list-group list-group-shadow">
            <div class="list-group-item">
              <img class="img-circle img-responsive center-block" ng-src="{{user.picture}}" alt="{{user.username}}" style="max-width: 200px; max-height: 150px;" />
            </div>
            <div class="list-group-item ellipsis">
              <span class="fa-stack fa-sm">
                <i class="fa fa-square-o fa-stack-2x"></i>
                <i class="fa fa-user fa-stack-1x"></i>
              </span> Username: {{user.username}}
            </div>
            <div class="list-group-item ellipsis">
              <span class="fa-stack fa-sm">
                <i class="fa fa-square-o fa-stack-2x"></i>
                <i class="fa fa-at fa-stack-1x"></i>
              </span> Email: {{user.email}}
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 panel panel-primary dash-panel">
        <div class="panel-heading">
          <h4 class="panel-title">
            <span class="pull-left">
              <i class="form-fa fa fa-bar-chart fa-fw"></i>
            </span>
            DailyDish Stats
          </h4>
        </div>
        <div class="panel-body">
          <div class="list-group list-group-shadow">
            <div class="list-group-item ellipsis">
              <div class="media-body">
                <span class="fa-stack fa-sm">
                  <i class="fa fa-square-o fa-stack-2x"></i>
                  <i class="fa fa-question-circle fa-stack-1x"></i>
                </span> Questions Posted:
              </div>
              <div class="media-right">
                <span class="item-right badge badge-default">{{user.questions.length}}</span>
              </div>
            </div>
            <div class="list-group-item ellipsis">
              <div class="media-body">
                <span class="fa-stack fa-sm">
                  <i class="fa fa-square-o fa-stack-2x"></i>
                  <i class="fa fa-line-chart fa-stack-1x"></i>
                </span> Questions Answered:
              </div>
              <div class="media-right">
                <span class="item-right badge badge-default">{{user.answers.length}}</span>
              </div>
            </div>
            <div class="list-group-item ellipsis">
              <div class="media-body">
                <span class="fa-stack fa-sm">
                  <i class="fa fa-square-o fa-stack-2x"></i>
                  <i class="fa fa-university fa-stack-1x"></i>
                </span> Guru Rating:
              </div>
              <div class="media-right">
                <span class="item-right badge badge-default">{{user.rating || 'N/A'}}</span>
              </div>
            </div>
            <div class="list-group-item ellipsis">
              <div class="media-body">
                <span class="fa-stack fa-sm">
                  <i class="fa fa-square-o fa-stack-2x"></i>
                  <i class="fa fa-certificate fa-stack-1x"></i>
                </span> Articles Posted:
              </div>
              <div class="media-right">
                <span class="item-right badge badge-default">{{user.articles.length || '0'}}</span>
              </div>
            </div>
            <div class="list-group-item ellipsis">
              <div class="media-body">
                <span class="fa-stack fa-sm">
                  <i class="fa fa-square-o fa-stack-2x"></i>
                  <i class="fa fa-star fa-stack-1x"></i>
                </span> Author Rating:
              </div>
              <div class="media-right">
                <span class="item-right badge badge-default">{{user.authorRating || 'N/A'}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Mobile View -->
    <div class="row hidden-lg hidden-md hidden-sm" style="padding: 10px 10px;">
      <div class="col-xs-12">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h4 class="panel-title">
              <span class="pull-left">
                <i class="form-fa fa fa-info-circle fa-fw"></i>
              </span>
              Profile
              <span class="pull-right">
                <a href="javascript:void(0)" ng-click="open()" id="edit">
                  <i class="fa fa-pencil-square-o fa-lg"></i>
                </a>
              </span>
            </h4>
          </div>
          <div class="">
            <div class="list-group text-center list-group-shadow " style="margin-bottom: 0px;">
              <div class="list-group-item" >
                <img class="img-circle img-responsive center-block" ng-src="{{user.picture}}" alt="{{user.username}}" style="max-width: 200px; max-height: 150px;" />
              </div>
              <div class="list-group-item ellipsis" >
                <span class="fa-stack fa-sm">
                  <i class="fa fa-square-o fa-stack-2x"></i>
                  <i class="fa fa-user fa-stack-1x"></i>
                </span> {{user.username}}
              </div>
              <div class="list-group-item ellipsis" >
                <span class="fa-stack fa-sm">
                  <i class="fa fa-square-o fa-stack-2x"></i>
                  <i class="fa fa-at fa-stack-1x"></i>
                </span> {{user.email}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- End Profile Dash View ---------------->
    <!-- Begin Article Dash View -------------->
    <!-- Desktop View -->
    <div class="row" style="margin: auto;">
      <div class="col-xs-12" style="padding: 0px;">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h4 class="panel-title">
              <span class="pull-left">
                <i class="form-fa fa fa-newspaper-o fa-fw"></i>
              </span>
              Your Articles
            </h4>
          </div>
          <div class="panel-body" style="padding: 0px; background-color: #fff;">
            <div ng-show="!user.articles.length" class="hidden-lg hidden-md hidden-sm">
              <div class="list-group list-group-shadow " style="margin: 15px 15px;">
                <div class="list-group-item ellipsis">
                  <div class="media-body">
                    <span class="fa-stack fa-sm">
                      <i class="fa fa-square-o fa-stack-2x"></i>
                      <i class="fa fa-certificate fa-stack-1x"></i>
                    </span> Articles Posted:
                  </div>
                  <div class="media-right">
                    <span class="item-right badge badge-default">{{user.articles.length || '0'}}</span>
                  </div>
                </div>
                <div class="list-group-item ellipsis">
                  <div class="media-body">
                    <span class="fa-stack fa-sm">
                      <i class="fa fa-square-o fa-stack-2x"></i>
                      <i class="fa fa-star fa-stack-1x"></i>
                    </span> Author Rating:
                  </div>
                  <div class="media-right">
                    <span class="item-right badge badge-default">{{user.authorRating || 'N/A'}}</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="question-no-well well" ng-show="!user.articles.length" style="margin: 15px;">
              <strong>No articles to display.</strong>
            </div>
            <div class="home-well well" ng-show="user.articles.length" id="article-dashboard" style="border: 0px; border-radius: 0px;">
              <div class="list-group list-group-shadow hidden-lg hidden-md hidden-sm">
                <div class="list-group-item ellipsis">
                  <div class="media-body">
                    <span class="fa-stack fa-sm">
                      <i class="fa fa-square-o fa-stack-2x"></i>
                      <i class="fa fa-certificate fa-stack-1x"></i>
                    </span> Articles Posted:
                  </div>
                  <div class="media-right">
                    <span class="item-right badge badge-default">{{user.articles.length || '0'}}</span>
                  </div>
                </div>
                <div class="list-group-item ellipsis">
                  <div class="media-body">
                    <span class="fa-stack fa-sm">
                      <i class="fa fa-square-o fa-stack-2x"></i>
                      <i class="fa fa-star fa-stack-1x"></i>
                    </span> Author Rating:
                  </div>
                  <div class="media-right">
                    <span class="item-right badge badge-default">{{user.authorRating || 'N/A'}}</span>
                  </div>
                </div>
              </div>

              <div class="row row-horizon">
                <div class="col-md-4 text-center" ng-repeat="article in user.articles track by $index">
                  <div class="info-card">
                    <div id="front">
                      <div class="card-image-background">
                        <img class="img-rounded card-img" ng-src="{{article.picture.url}}" alt="{{article.title}}" />
                      </div>
                      <div class="list-group list-group-dash">
                        <div class="list-group-item">
                          Title: {{article.title}}
                        </div>
                        <div class="list-group-item">
                          Date: {{article.date | amCalendar}}
                        </div>
                      </div>
                    </div>
                    <div id="back">
                      <div class="list-group list-group-dash">
                        <div class="list-group-item offset-padding">
                          <ul class="list-inline">
                            <li>
                              Sports:
                            </li>
                            <li ng-repeat="sport in article.sports track by $index">
                              <span class="label label-primary">{{sport}}</span>
                            </li>
                          </ul>
                        </div>
                        <div class="list-group-item offset-padding">
                          <ul class="list-inline">
                            <li>
                              Teams:
                            </li>
                            <li ng-repeat="team in article.teams track by $index">
                              <span class="label label-primary">{{team}}</span>
                            </li>
                          </ul>
                        </div>
                        <div class="list-group-item">
                          <button type="button" class="btn btn-block btn-primary" ui-sref="article({id: article._id})">Review</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h4 class="panel-title">
              <span class="pull-left">
                <i class="form-fa fa fa-question-circle fa-fw"></i>
              </span>
              Your Questions
            </h4>
          </div>
          <div class="panel-body" style="background-color: #ffffff;">
            <div class="list-group list-group-shadow hidden-lg hidden-md hidden-sm">
              <div class="list-group-item ellipsis">
                <div class="media-body">
                  <span class="fa-stack fa-sm">
                    <i class="fa fa-square-o fa-stack-2x"></i>
                    <i class="fa fa-university fa-stack-1x"></i>
                  </span> Guru Rating:
                </div>
                <div class="media-right">
                  <span class="item-right badge badge-default">{{user.rating || 'N/A'}}</span>
                </div>
              </div>
              <div class="list-group-item ellipsis">
                <div class="media-body">
                  <span class="fa-stack fa-sm">
                    <i class="fa fa-square-o fa-stack-2x"></i>
                    <i class="fa fa-question-circle fa-stack-1x"></i>
                  </span> Questions Posted:
                </div>
                <div class="media-right">
                  <span class="item-right badge badge-default">{{user.questions.length}}</span>
                </div>
              </div>
              <div class="list-group-item ellipsis">
                <div class="media-body">
                  <span class="fa-stack fa-sm">
                    <i class="fa fa-square-o fa-stack-2x"></i>
                    <i class="fa fa-line-chart fa-stack-1x"></i>
                  </span> Questions Answered:
                </div>
                <div class="media-right">
                  <span class="item-right badge badge-default">{{user.answers.length}}</span>
                </div>
              </div>
            </div>
            <div class="home-well well" ng-show="!user.questions.length">
              <strong>No questions to display.</strong>
            </div>
            <div class="fancy-collapse-panel" ng-show="user.questions.length">
              <div class="panel-group panel-list" id="accordion" role="tablist">
                <div class="panel panel-default" dir-paginate="question in user.questions | itemsPerPage:2" pagination-id="question.id">
                  <div class="panel-heading" role="tab" style="background-color: #2c3e50;">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-parent="#accordion" data-target="#{{question._id}}" aria-multiselectable="true" class="ellipsis" style="background-color: #f5f5f5;">
                        <span><img ng-src="{{question.img}}" class="item-img" /></span>
                        {{question.content}}
                      </a>
                    </h4>
                  </div>
                  <div id="{{question._id}}" class="panel-collapse collapse" role="tabpanel">
                    <div class="panel-body">
                      <div class="list-group list-group-shadow">
                        <div class="list-group-item small">
                          <span class="fa fa-calendar fa-fw"></span> {{question.date | amDateFormat: 'dddd, MMMM Do, h:mm a'}}
                        </div>
                        <div class="list-group-item small">
                          <span class="fa fa-comments-o fa-fw"></span> Answers: {{question.answers.length}}
                        </div>
                        <div class="list-group-item small">
                          <span class="fa fa-info-circle fa-fw"></span> You haven't rated any answers!
                        </div>
                        <div class="list-group-item small">
                          <a ui-sref="question({id: question._id})" type="button" class="btn btn-block btn-primary">
                            <div class="media-body">
                              Access Question Page
                            </div>
                            <div class="media-right">
                              <i class="form-fa fa fa-chevron-circle-right"></i>
                            </div>
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="text-center" ng-if="user.questions.length > 2">
                      <dir-pagination-controls template-url="../lib/angularUtils-pagination/dirPagination.tpl.html" pagination-id="question.id"></dir-pagination-controls>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="text/ng-template" id="modalEdit.html">
  <div close="cancel()">
    <div class="modal-header">
      <h3 class="modal-title text-center">Edit Profile:</h3>
    </div>
    <div class="modal-body">
      <div class="container-fluid">
        <div class="text-center">
          <ul class="list-inline">
            <li>
              <button type="button" class="btn3d btn btn-primary">
                <i class="btn3d-fa fa fa-lock fa-fw"></i> Change Password
              </button>
            </li>
            <li>
              <button type="button" class="btn3d btn btn-primary">
                <i class="btn3d-fa fa fa-camera fa-fw"></i> Change Picture
              </button>
            </li>
            <li>
              <button type="button" class="btn3d btn btn-primary">
                <i class="btn3d-fa fa fa-facebook-square fa-fw"></i> Manage Social Accounts
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <div class="col-xs-12">
        <div class="col-xs-6">
          <button class="btn btn-info btn-block" ng-click="editProfile()">Submit</button>
        </div>
        <div class="col-xs-6">
          <button class="btn btn-danger btn-block" ng-click="cancel()">Cancel</button>
        </div>
      </div>
    </div>
  </div>
  </div>
</script>
