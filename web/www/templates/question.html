
<div class="container">
  <div class="text-left" style="margin-bottom: 10px;">
    <a type="button" class="btn btn-sm btn-primary" ui-sref="questions"><i class="form-fa fa fa-chevron-circle-left fa-fw"></i> Back</a>
  </div>
  <div ng-show="loading">
    <div class="loader"></div>
  </div>
  <div ng-show="!loading">
    <div class="col-xs-12">
      <div class="panel-q panel-q-white post panel-q-shadow" id="image-dash">
        <div class="text-center">
          <div class="image">
            <img ng-src="{{question.author.picture}}" alt="{{question.author.username}}" id="q-image" class="img-circle avatar" />
          </div>
          <div class="meta">
            <div class="title h5">
              <b class="text-success">Posted By: {{question.author.username}}</b>
            </div>
            <small class="text-muted time" style="font-weight: bold;">
                <span class="glyphicon glyphicon-time"></span> {{question.date | amCalendar}}
              </small>
          </div>
          <div class="well well-sm" id="question-well" style="margin-left: 20px; margin-right: 20px;">
            <div class="post-description">
              <p style="font-weight: bold; margin: 0;">
                {{question.content}}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xs-12" style="padding-top: 10px;">
      <div class="panel panel-primary">
        <div class="panel-heading">
          Answers
          <div class="pull-right">
            <a type="button" class="btn btn-sm btn-default" ng-click="openAnswerModal()" style="margin-top: -5px;">Add New</a>
          </div>
        </div>
        <div class="panel-body">
          <ul class="media-list">
            <li class="answer-media media" ng-repeat="answer in question.answers">
              <div class="well" style="padding: 5px 10px; margin-bottom: 0px;">
                <figure>
                  <div class="pull-left" style="margin-right: 10px;" href="javascript:void(0)">
                    <img class="thumbnail-q img-circle" ng-src="{{answer.author.picture}}" alt="profile">
                    <figcaption class="text-center">
                      <strong class="text-success">{{answer.author.username}}</strong>
                    </figcaption>
                  </div>
                </figure>
                <div class="media-body hidden-lg hidden-md hidden-sm">
                  <span class="text-muted">
                    <small class="text-muted"><span class="glyphicon glyphicon-time"></span> {{answer.date | amCalendar}}</small>
                  </span>
                  <p style="margin:0">
                    {{answer.content}}
                  </p>
                  <small><i class="fa fa-star fa-fw"></i> Guru Rating: {{answer.author.rating || 0}}</small>
                </div>
                <div class="row hidden-lg hidden-md hidden-sm">
                  <ul class="list-inline" style="margin-left: 10px">
                    <li>
                      <span class="badge">{{answer.likes || 0}}</span>
                      <span class="fa fa-thumbs-o-up fa-fw glyphicon-align-right"></span>
                    </li>
                    <li>
                      <span class="badge">{{answer.likes || 0}}</span>
                      <span class="fa fa-thumbs-o-up fa-fw glyphicon-align-right"></span>
                    </li>
                    <li style="font-weight: bold;">
                      Rating: <span class="badge">{{answer.rating || 'N/A'}}</span>
                    </li>
                  </ul>
                </div>
                <div class="media-body hidden-xs">
                  <span class="text-muted pull-right">
                    <small class="text-muted"><span class="glyphicon glyphicon-time"></span> {{answer.date | amCalendar}}</small>
                  </span>
                  <small><i class="fa fa-star fa-fw"></i> Guru Rating: {{answer.author.rating || 0}}</small>
                  <p>
                    {{answer.content}}
                  </p>
                  <div class="panel-footer" style="padding: 5px 5px;">
                    <ul class="list-inline">
                      <li>
                        <span class="badge">{{answer.likes || 0}}</span>
                        <span class="fa fa-thumbs-o-up fa-lg glyphicon-align-right"></span>
                      </li>
                      <li>
                        <span class="badge">{{answer.likes || 0}}</span>
                        <span class="fa fa-thumbs-o-up fa-lg glyphicon-align-right"></span>
                      </li>
                      <li style="font-weight: bold;">
                        Rating: <span class="badge">{{answer.rating || 'N/A'}}</span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script type="text/ng-template" id="answerModal.html">
  <div class="modal-header">
    <h3 class="modal-title text-center">Submit an Answer:</h3>
  </div>
  <div class="modal-body">
    <div class="text-center">
      <h4>Question:</h4>
      <p class="lead">
        {{question.content}}
      </p>
    </div>
    <form class="form-horizontal" method="post" name="answerForm">
      <div class="form-group">
        <h4 class="text-center" style="font-size: 1.2em;">Answer Below:</h4>
        <div class="col-xs-12">
          <textarea class="form-control" rows="3" id="question" ng-model="answer.content" required></textarea>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" ng-click="submitAnswer()" ng-disabled="answerForm.$invalid" class="btn btn-info btn-lg">Submit</button>
    <button class="btn btn-danger btn-lg" ng-click="cancel()">Cancel</button>
  </div>
  </div>
</script>
